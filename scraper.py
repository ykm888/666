import re

def solve():
    # 1. é”å®šå‰ä¸‰åé«˜æ‰‹çš„å·ç ï¼ˆæ ¹æ®æˆªå›¾ 54 æœŸæ•°æ®ï¼‰
    # å¦‚æœæœŸæ•°æ›´æ–°ï¼Œä½ åªéœ€ä¿®æ”¹è¿™é‡Œçš„å¤§æ‹¬å·å†…å®¹
    masters = {
        "å²³å¸…é­”é•œè­·": "43-23-15-18-45-37-26-05-49-34-36-22-40-12-33-38-27-47-17-30-42-03-44-07-13-46-16-25-01-11",
        "å¤–å‘çš„ç‹—è¹¦": "44-38-45-07-37-11-34-35-31-24-17-49-14-13-18-03-04-30-06-42-16-28-20-47-23-40-19-22-32-01",
        "ä¸œé—¨é“ƒé“›å®¹": "13-01-11-42-40-19-34-12-15-48-23-20-17-29-14-28-36-31-45-27-25-49-09-46-16-07-39-06-35-08"
    }

    # 2. è§£ææ•°å­—å¹¶è¡¥å…¨ä¸¤ä½ï¼ˆé˜²æ­¢ 1 å’Œ 01 åŒ¹é…å¤±è´¥ï¼‰
    sets = []
    for name, raw_nums in masters.items():
        # è‡ªåŠ¨è¯†åˆ«ä»»ä½•åˆ†éš”ç¬¦å¹¶æå–æ•°å­—
        num_list = set(n.zfill(2) for n in re.findall(r'\d+', raw_nums))
        sets.append(num_list)
        print(f"å·²é”å®šé«˜æ‰‹ï¼š{name}ï¼Œæœ‰æ•ˆå·ç æ•°ï¼š{len(num_list)}")

    # 3. è®¡ç®—ä¸‰æ–¹ä¸¥æ ¼äº¤é›†
    # åªæœ‰ä¸‰ä¸ªäººåŒæ—¶éƒ½é€‰äº†çš„å·ç æ‰ä¼šè¢«ä¿ç•™
    common_nums = sorted(list(set.intersection(*sets)))

    # 4. å†™å…¥ 999.txt
    result_text = " . ".join(common_nums)
    with open("999.txt", "w", encoding="utf-8") as f:
        f.write(result_text)
    
    print("-" * 30)
    print(f"âœ… è®¡ç®—å®Œæˆï¼ä¸‰æ–¹å…±æœ‰é‡å¤å· ({len(common_nums)}ä¸ª):")
    print(f"ğŸ‘‰ {result_text}")

if __name__ == "__main__":
    solve()
